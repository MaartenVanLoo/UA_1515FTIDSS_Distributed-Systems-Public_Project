<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="nl">
<head>
<!-- Generated by javadoc (11.0.2) on Thu Jun 02 21:05:53 CEST 2022 -->
<title>FailureAgent</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2022-06-02">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
<script type="text/javascript" src="../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FailureAgent";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":9,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">Agents</a></div>
<h2 title="Class FailureAgent" class="title">Class FailureAgent</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>Agents.FailureAgent</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>java.io.Serializable</code>, <code>java.lang.Runnable</code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">FailureAgent</span>
extends java.lang.Object
implements java.lang.Runnable, java.io.Serializable</pre>
<div class="block">A class that handles the failure of a node.
 FailureAgent will be setup by the nameserver and then sent to every node in the network.
 Each node will execute the "run()" method which should update all the files on each node.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../serialized-form.html#Agents.FailureAgent">Serialized Form</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.TreeMap&lt;java.lang.Integer,&#8203;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#allNodes">allNodes</a></span></code></th>
<td class="colLast">
<div class="block">The list of all nodes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#failedNodeId">failedNodeId</a></span></code></th>
<td class="colLast">
<div class="block">The node that failed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#firstNode">firstNode</a></span></code></th>
<td class="colLast">
<div class="block">Hash of the node that receives the agent the first time.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../Node/Node.html" title="class in Node">Node</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#node">node</a></span></code></th>
<td class="colLast">
<div class="block">The node this FailureAgent is running on.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#serialVersionUID">serialVersionUID</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(long,java.util.TreeMap)">FailureAgent</a></span>&#8203;(long&nbsp;failedNodeId,
            java.util.TreeMap&lt;java.lang.Integer,&#8203;java.lang.String&gt;&nbsp;allNodes)</code></th>
<td class="colLast">
<div class="block">Constructor for the FailureAgent.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static <a href="FailureAgent.html" title="class in Agents">FailureAgent</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deserialize(byte%5B%5D)">deserialize</a></span>&#8203;(byte[]&nbsp;agent)</code></th>
<td class="colLast">
<div class="block">Converts a ByteArray to an Agent.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private java.util.TreeMap&lt;java.lang.Integer,&#8203;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDummyMap()">getDummyMap</a></span>()</code></th>
<td class="colLast">
<div class="block">Creates a TreeMap of all nodes including the node that failed.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private java.io.File[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLocalFiles()">getLocalFiles</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns a list of all files in the local folder.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private java.io.File[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getReplicatedFiles()">getReplicatedFiles</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns a list of all files in the "/replica" folder of this node.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#recreateReplica(java.io.File)">recreateReplica</a></span>&#8203;(java.io.File&nbsp;localFile)</code></th>
<td class="colLast">
<div class="block">This method is used to recreate a replica of a file that was lost.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#run()">run</a></span>()</code></th>
<td class="colLast">
<div class="block">Executes the FailureAgent.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#serialize()">serialize</a></span>()</code></th>
<td class="colLast">
<div class="block">Converts this object to a ByteArray.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setFirstNode(int)">setFirstNode</a></span>&#8203;(int&nbsp;node)</code></th>
<td class="colLast">
<div class="block">Sets the node where the FailureAgent started.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setNode(Node.Node)">setNode</a></span>&#8203;(<a href="../Node/Node.html" title="class in Node">Node</a>&nbsp;node)</code></th>
<td class="colLast">
<div class="block">Changes the node of this agent.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="serialVersionUID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serialVersionUID</h4>
<pre>private static final&nbsp;long serialVersionUID</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#Agents.FailureAgent.serialVersionUID">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="node">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>node</h4>
<pre>private&nbsp;<a href="../Node/Node.html" title="class in Node">Node</a> node</pre>
<div class="block">The node this FailureAgent is running on.</div>
</li>
</ul>
<a id="failedNodeId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>failedNodeId</h4>
<pre>private final&nbsp;int failedNodeId</pre>
<div class="block">The node that failed.</div>
</li>
</ul>
<a id="firstNode">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>firstNode</h4>
<pre>private&nbsp;int firstNode</pre>
<div class="block">Hash of the node that receives the agent the first time. The agent should never pass by the same node twice.</div>
</li>
</ul>
<a id="allNodes">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>allNodes</h4>
<pre>private&nbsp;java.util.TreeMap&lt;java.lang.Integer,&#8203;java.lang.String&gt; allNodes</pre>
<div class="block">The list of all nodes.</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(long,java.util.TreeMap)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FailureAgent</h4>
<pre>public&nbsp;FailureAgent&#8203;(long&nbsp;failedNodeId,
                    java.util.TreeMap&lt;java.lang.Integer,&#8203;java.lang.String&gt;&nbsp;allNodes)</pre>
<div class="block">Constructor for the FailureAgent.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>failedNodeId</code> - id of the node that failed.</dd>
<dd><code>allNodes</code> - all nodes in the network.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="setNode(Node.Node)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNode</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setNode&#8203;(<a href="../Node/Node.html" title="class in Node">Node</a>&nbsp;node)</pre>
<div class="block">Changes the node of this agent.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>node</code> - the node to change to.</dd>
</dl>
</li>
</ul>
<a id="setFirstNode(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFirstNode</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setFirstNode&#8203;(int&nbsp;node)</pre>
<div class="block">Sets the node where the FailureAgent started.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>node</code> - </dd>
</dl>
</li>
</ul>
<a id="run()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;run()</pre>
<div class="block">Executes the FailureAgent.
 It will update all files in the "/local" folder and in the "/replica" folder. If a file in the local folder was replicated
 to the node that failed, it will need to be replicated again. If a file in the "/replica" folder came from the node that failed,
 it will be deleted.
 After updating all files, the FailureAgent will be sent to the next node in the network.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
</dl>
</li>
</ul>
<a id="getLocalFiles()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLocalFiles</h4>
<pre class="methodSignature">private&nbsp;java.io.File[]&nbsp;getLocalFiles()</pre>
<div class="block">Returns a list of all files in the local folder.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list of all files in the local folder.</dd>
</dl>
</li>
</ul>
<a id="getReplicatedFiles()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReplicatedFiles</h4>
<pre class="methodSignature">private&nbsp;java.io.File[]&nbsp;getReplicatedFiles()</pre>
<div class="block">Returns a list of all files in the "/replica" folder of this node.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>list of files</dd>
</dl>
</li>
</ul>
<a id="getDummyMap()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDummyMap</h4>
<pre class="methodSignature">private&nbsp;java.util.TreeMap&lt;java.lang.Integer,&#8203;java.lang.String&gt;&nbsp;getDummyMap()</pre>
<div class="block">Creates a TreeMap of all nodes including the node that failed.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>TreeMap of all nodes.</dd>
</dl>
</li>
</ul>
<a id="recreateReplica(java.io.File)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recreateReplica</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;recreateReplica&#8203;(java.io.File&nbsp;localFile)</pre>
<div class="block">This method is used to recreate a replica of a file that was lost.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>localFile</code> - The file that is lost.</dd>
</dl>
</li>
</ul>
<a id="serialize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serialize</h4>
<pre class="methodSignature">public&nbsp;byte[]&nbsp;serialize()
                 throws java.io.IOException</pre>
<div class="block">Converts this object to a ByteArray.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>ByteArray of this object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if serialization fails</dd>
</dl>
</li>
</ul>
<a id="deserialize(byte[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>deserialize</h4>
<pre class="methodSignature">public static&nbsp;<a href="FailureAgent.html" title="class in Agents">FailureAgent</a>&nbsp;deserialize&#8203;(byte[]&nbsp;agent)
                                throws java.io.IOException,
                                       java.lang.ClassNotFoundException</pre>
<div class="block">Converts a ByteArray to an Agent.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>agent</code> - ByteArray to convert</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Agent object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if deserialization fails</dd>
<dd><code>java.lang.ClassNotFoundException</code> - if deserialization fails</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
